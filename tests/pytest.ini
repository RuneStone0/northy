[pytest]
# Use multi-threading to run tests in parallel
# --cov-append: Append coverage data to .coverage data files
# -n 1  : Run tests in parallel using 1 CPU core is a must, otherwise it test_saxo.py will fail
addopts = -n auto -v --cov=northy/ --cov-append --capture=sys --cov-report=html --cov-report=html:tests/report

# Ignoring specific directories or files during test discovery
norecursedirs = venv .git

# Running only tests that match specific expressions
python_files = test_*.py *_test.py

# Disabling deprecated features or behaviors
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Setting a custom temp directory for pytest
cache_dir = .pytest_cache

# Setting a custom test data directory
testpaths = tests

# Use environment variables from .env files
env_files =
    .env

markers =
    timeout: mark test cases with a timeout

# Configure Logging
log_cli = true
log_cli_level = DEBUG
log_format = %(asctime)s %(levelname)6s %(message)s
log_date_format = %Y-%m-%d %H:%M:%S
